{% extends "base.html" %}

{% block title %}Observations - Moncyclopedia{% endblock %}

{% block content %}

<h1>List of Observations</h1>

{% if monsters_with_observations %}
    {% for monster in monsters_with_observations %}
    <div class="card mb-4">
        <div class="card-header border-{{ monster.category|lower }} bg-dark d-flex justify-content-between align-items-center">
            <h2><a href="{% url 'articles:monster_detail' monster.pk %}" class="text-white">{{ monster.name }}</a></h2>
            <span class="badge bg-dark">{{ monster.observations.count }} observation{{ monster.observations.count|pluralize }}</span>
        </div>
        <div class="card-body bg-dark border-{{ monster.category|lower }}">
            <ul class="list-unstyled">
                {% for observation in monster.observations.all %}
                <li>
                    {% if observation.slug %}
                        <a href="{% url 'articles:observation_detail' observation.slug %}">{{ observation.title }} - {{ observation.observer.username }}</a>
                    {% else %}
                        <span>{{ observation.title }} - {{ observation.observer.username }}</span>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="alert alert-info">
        <p>No observations found.</p>
    </div>
{% endif %}

{% endblock %}